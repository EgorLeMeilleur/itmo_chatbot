# Чат-бот для абитуриентов магистратуры ИТМО

Этот проект представляет собой консольного чат-бота, разработанного для помощи абитуриентам в выборе между двумя магистерскими программами Университета ИТМО:
1.  **Искусственный интеллект** (`/master/ai`)
2.  **Управление ИИ-продуктами** (`/master/ai_product`)

Бот в диалоговом режиме предоставляет информацию об учебных планах, сравнивает программы и дает персонализированные рекомендации по выбору дисциплин.

## Основные возможности

*   **Актуальность данных**: При каждом запуске бот скачивает самые свежие учебные планы напрямую с официального сайта ИТМО.
*   **Сравнение программ**: Наглядно показывает общие и уникальные обязательные дисциплины для обеих программ.
*   **Детальное описание**: Выводит полный список обязательных и выборных курсов для каждой программы.
*   **Система рекомендаций**: Задает вопросы о бэкграунде и карьерных целях абитуриента, чтобы посоветовать наиболее релевантные курсы по выбору.
*   **Интерактивный диалог**: Общается с пользователем в консоли, распознавая простые команды.

## Установка и запуск

Для работы приложения необходимы **Python 3.9+** и установленный браузер **Google Chrome**.

**Шаг 1: Скачайте проект**

Клонируйте репозиторий или скачайте ZIP-архив с файлами проекта (`chatbot.py`, `main.py`, `parser.py`, `requirements.txt`, `README.md`).

**Шаг 2: Установите WebDriver для Chrome**

Для управления браузером `Selenium` требует специальный драйвер.

1.  **Узнайте версию вашего Chrome**: Откройте браузер и перейдите в `Настройки` -> `О браузере Chrome`. Запомните номер версии (например, `126.0.7890.123`).
2.  **Скачайте ChromeDriver**: Перейдите на официальную страницу [Chrome for Testing](https://googlechromelabs.github.io/chrome-for-testing/). Найдите и скачайте версию ChromeDriver, которая **точно соответствует версии вашего браузера**.
3.  **Распакуйте архив** и поместите исполняемый файл `chromedriver.exe` (или `chromedriver` для Linux/macOS) **в ту же папку, где находится ваш Python-скрипт**.

**Шаг 3: Установите зависимости Python**

Откройте терминал (командную строку) в папке проекта и выполните команду:
```bash
pip install -r requirements.txt
```

Шаг 4: Запустите чат-бота
В том же терминале выполните команду:
```bash
python main.py
```

Где `main.py` — это имя вашего основного файла.

После этого бот запустится и начнет загрузку данных, после чего вы сможете задавать ему вопросы.

## Техническая реализация и принятые решения

Задача решалась итеративно, и на каждом шаге подход совершенствовался для повышения надежности.

### Итерация 1: Парсинг HTML-кода

*   **Инструменты:** `requests` для загрузки страниц, `BeautifulSoup4` для парсинга HTML.
*   **Решение:** Изначально предполагалось, что учебные планы можно извлечь прямо из HTML-структуры сайта. Это самый быстрый и простой способ.
*   **Проблема:** Этот подход оказался крайне ненадежным. CSS-классы и структура сайта часто менялись, что приводило к постоянным ошибкам `AttributeError` и требовало бы постоянной переделки кода. Стало ясно, что HTML-верстка — нестабильный источник данных.

### Итерация 2: Парсинг PDF по прямым ссылкам

*   **Инструменты:** `pdfplumber` для извлечения таблиц из PDF.
*   **Решение:** На страницах программ были обнаружены кнопки для скачивания учебных планов в формате PDF. PDF — это официальный документ со стандартизированной структурой, что делает его идеальным источником данных.
*   **Проблема:** Возникли две новые сложности:
    *   **JavaScript-кнопка:** Кнопка "Скачать учебный план" оказалась элементом `<button>`, а не стандартной ссылкой `<a>`. Это значит, что скачивание инициируется через JavaScript, который библиотека `requests` выполнять не умеет.
    *   **Нестабильный парсинг PDF:** Некоторые PDF-файлы имели проблемы со встроенными шрифтами, что вызывало ошибки в `pdfplumber` при попытке автоматического извлечения таблиц.

### Итерация 3 (Финальная): Автоматизация браузера и умный парсинг PDF

Этот подход решил все предыдущие проблемы и лег в основу финальной версии.

*   **Инструменты:** `Selenium` для управления браузером, `pdfplumber` для анализа текста PDF.
*   **Решение:**
    *   **Управление браузером:** `Selenium` запускает полноценный (хоть и невидимый) браузер Chrome. Он может выполнять JavaScript и имитировать действия пользователя.
    *   **Обход препятствий:** Скрипт научился действовать как человек: сначала он закрывает всплывающий баннер о cookies, затем прокручивает страницу до нужной кнопки и только потом безопасно нажимает на нее, используя JS-клик для максимальной надежности.
    *   **Надежный парсинг PDF:** Вместо того чтобы полагаться на хрупкую структуру таблиц, финальный парсер извлекает из PDF весь текст как единое целое. Затем он анализирует этот текст строка за строкой, используя ключевые слова-маркеры ("Обязательные дисциплины", "Пул выборных дисциплин", "Блок 2. Практика") для точного определения границ нужных нам списков курсов.
    *   **Чистый вывод:** Чтобы скрыть технические логи от `Selenium` и `ChromeDriver`, были применены специальные опции, которые полностью перенаправляют все потоки системного вывода в "пустоту" (`subprocess.DEVNULL`).

Этот комплексный подход обеспечил создание надежного и устойчивого к изменениям на сайте приложения.

## Стек технологий

*   **Python 3:** Язык разработки.
*   **Selenium:** Основной инструмент для автоматизации действий в веб-браузере (нажатие кнопок, скачивание файлов).
*   **pdfplumber:** Библиотека для извлечения текста и данных из PDF-файлов.